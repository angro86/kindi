<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kindi - Educational Videos (249 Verified)</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>* { font-family: 'Nunito', sans-serif; } .line-clamp-2 { overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; }</style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
const { useState, useEffect, useRef } = React;
const Play = ({className}) => <svg className={className} viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21 5 3" fill="currentColor"/></svg>;
const Clock = ({className}) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>;
const Star = ({className}) => <svg className={className} viewBox="0 0 24 24" fill="currentColor"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>;
const Plus = ({className}) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>;
const X = ({className}) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>;
const ArrowLeft = ({className}) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>;
const Trophy = ({className}) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6M18 9h1.5a2.5 2.5 0 0 0 0-5H18M4 22h16M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>;
const Volume2 = ({className}) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/></svg>;
const Search = ({className}) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>;

const VIDEOS = [{"id":1,"title":"Solar System","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"mQrlgH97v94"},{"id":2,"title":"Human Body","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"gEUu-A2wfSE"},{"id":3,"title":"Digestive System","channel":"Peekaboo Kidz","age":6,"cat":"science","youtubeId":"VwVVXz7mXr0"},{"id":4,"title":"Water Cycle","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"al2GqN_-ht4"},{"id":5,"title":"Photosynthesis","channel":"Peekaboo Kidz","age":6,"cat":"science","youtubeId":"UPBMG5EYydo"},{"id":6,"title":"Volcano","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"lAmqsMQG3RM"},{"id":7,"title":"Earthquake","channel":"Peekaboo Kidz","age":6,"cat":"science","youtubeId":"dJpIU1rSOFY"},{"id":8,"title":"Planets","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"Qd6nLM2QlWw"},{"id":9,"title":"Moon","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"6AviDjR9mTk"},{"id":10,"title":"Stars","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"VL-hy_U6rUY"},{"id":11,"title":"Ecosystem","channel":"Peekaboo Kidz","age":6,"cat":"science","youtubeId":"sKJoXdrOT70"},{"id":12,"title":"Food Chain","channel":"Peekaboo Kidz","age":6,"cat":"science","youtubeId":"hLq2datPo5M"},{"id":13,"title":"Rainforest","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"3vijLre760w"},{"id":14,"title":"Dinosaurs","channel":"Peekaboo Kidz","age":4,"cat":"science","youtubeId":"vq9NuzIoBoA"},{"id":15,"title":"Bones","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"vpxRsxjWJxU"},{"id":16,"title":"Heart","channel":"Peekaboo Kidz","age":6,"cat":"science","youtubeId":"CWFyxn0qDEU"},{"id":17,"title":"Lungs","channel":"Peekaboo Kidz","age":6,"cat":"science","youtubeId":"8NUxvJS-_0k"},{"id":18,"title":"Brain","channel":"Peekaboo Kidz","age":6,"cat":"science","youtubeId":"4VSlFxyX31I"},{"id":19,"title":"Electricity","channel":"Peekaboo Kidz","age":6,"cat":"science","youtubeId":"ru032Mfsfig"},{"id":20,"title":"Magnets","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"snNGqyUXvwY"},{"id":21,"title":"Gravity","channel":"Peekaboo Kidz","age":6,"cat":"science","youtubeId":"Ewoqs-V6xTI"},{"id":22,"title":"Sound","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"TsGxRgasvsg"},{"id":23,"title":"Light","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"Gk3wHOFxxcc"},{"id":24,"title":"Weather","channel":"Peekaboo Kidz","age":4,"cat":"science","youtubeId":"8mH3SjzjH-w"},{"id":25,"title":"Seasons","channel":"Peekaboo Kidz","age":4,"cat":"science","youtubeId":"LTv9bxWDxoc"},{"id":26,"title":"Rainbow","channel":"Peekaboo Kidz","age":4,"cat":"science","youtubeId":"gNMAEnIiM3Y"},{"id":27,"title":"Clouds","channel":"Peekaboo Kidz","age":4,"cat":"science","youtubeId":"UuW1jhxCgx0"},{"id":28,"title":"Ocean","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"X6BE4VcYngQ"},{"id":29,"title":"Desert","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"FBZvuPhX0Ac"},{"id":30,"title":"Arctic","channel":"Peekaboo Kidz","age":5,"cat":"science","youtubeId":"VE_RxjnvhH4"},{"id":31,"title":"Atoms","channel":"Peekaboo Kidz","age":7,"cat":"science","youtubeId":"6J2qb-zRIuI"},{"id":32,"title":"DNA","channel":"Peekaboo Kidz","age":7,"cat":"science","youtubeId":"xePn0PUr8PY"},{"id":33,"title":"Cells","channel":"Peekaboo Kidz","age":7,"cat":"science","youtubeId":"URUJD5NEXC8"},{"id":34,"title":"Evolution","channel":"Peekaboo Kidz","age":8,"cat":"science","youtubeId":"MvfJ7K3lf1g"},{"id":35,"title":"Black Holes","channel":"Peekaboo Kidz","age":8,"cat":"science","youtubeId":"yWO-cvGETRQ"},{"id":36,"title":"Internet","channel":"Peekaboo Kidz","age":7,"cat":"coding","youtubeId":"Dxcc6ycZ73M"},{"id":37,"title":"Coding Intro","channel":"Peekaboo Kidz","age":6,"cat":"coding","youtubeId":"nKIu9yen5nc"},{"id":38,"title":"AI Basics","channel":"Peekaboo Kidz","age":8,"cat":"coding","youtubeId":"JMU3HLnPpKs"},{"id":39,"title":"One","channel":"Numberblocks","age":3,"cat":"math","youtubeId":"WFrnA8LrUOI"},{"id":40,"title":"Two","channel":"Numberblocks","age":3,"cat":"math","youtubeId":"6-9GCRJ-lTA"},{"id":41,"title":"Three","channel":"Numberblocks","age":3,"cat":"math","youtubeId":"dr1AHJMVghY"},{"id":42,"title":"Four","channel":"Numberblocks","age":3,"cat":"math","youtubeId":"nHBPHqdYc2Y"},{"id":43,"title":"Five","channel":"Numberblocks","age":3,"cat":"math","youtubeId":"4oiaEPkpklM"},{"id":44,"title":"Six","channel":"Numberblocks","age":3,"cat":"math","youtubeId":"5VyRCK7uwDg"},{"id":45,"title":"Seven","channel":"Numberblocks","age":3,"cat":"math","youtubeId":"3KIJxDVfpRE"},{"id":46,"title":"Eight","channel":"Numberblocks","age":3,"cat":"math","youtubeId":"J-w_I_xeCso"},{"id":47,"title":"Nine","channel":"Numberblocks","age":3,"cat":"math","youtubeId":"gEEHBxzIaGs"},{"id":48,"title":"Just Add One","channel":"Numberblocks","age":3,"cat":"math","youtubeId":"zl0mXh2QWME"},{"id":49,"title":"Double Trouble","channel":"Numberblocks","age":4,"cat":"math","youtubeId":"3Azs2j2QVwo"},{"id":50,"title":"Odds and Evens","channel":"Numberblocks","age":4,"cat":"math","youtubeId":"kndqjQKJJoA"},{"id":51,"title":"Blast Off","channel":"Numberblocks","age":4,"cat":"math","youtubeId":"7Jzm1cMw3lk"},{"id":52,"title":"Number Bonds","channel":"Numberblocks","age":4,"cat":"math","youtubeId":"DSCWF5nL8E4"},{"id":53,"title":"Eleven","channel":"Numberblocks","age":4,"cat":"math","youtubeId":"1JVGrgNWcCQ"},{"id":54,"title":"Twelve","channel":"Numberblocks","age":4,"cat":"math","youtubeId":"5CsyGzRoJ_Y"},{"id":55,"title":"Fifteen","channel":"Numberblocks","age":5,"cat":"math","youtubeId":"wlLTHgPWXdU"},{"id":56,"title":"Twenty","channel":"Numberblocks","age":5,"cat":"math","youtubeId":"UjPiDIueAFE"},{"id":57,"title":"Patterns","channel":"Numberblocks","age":4,"cat":"math","youtubeId":"F4U9-cNM17o"},{"id":58,"title":"Squares","channel":"Numberblocks","age":5,"cat":"math","youtubeId":"sqOvhvomrOs"},{"id":59,"title":"A - Alphablocks","channel":"Alphablocks","age":3,"cat":"reading","youtubeId":"0wVJPPvcFw8"},{"id":60,"title":"B - Alphablocks","channel":"Alphablocks","age":3,"cat":"reading","youtubeId":"0sARs-N_S6Y"},{"id":61,"title":"C - Alphablocks","channel":"Alphablocks","age":3,"cat":"reading","youtubeId":"pq3-O-5cEzA"},{"id":62,"title":"D - Alphablocks","channel":"Alphablocks","age":3,"cat":"reading","youtubeId":"4zJT6YzE1nk"},{"id":63,"title":"E - Alphablocks","channel":"Alphablocks","age":3,"cat":"reading","youtubeId":"sQVTH8uCqhI"},{"id":64,"title":"F - Alphablocks","channel":"Alphablocks","age":3,"cat":"reading","youtubeId":"sXlP-GdP1UE"},{"id":65,"title":"Cat","channel":"Alphablocks","age":3,"cat":"reading","youtubeId":"T6VBIZQoXe4"},{"id":66,"title":"Dog","channel":"Alphablocks","age":3,"cat":"reading","youtubeId":"WFvzJxXJNQI"},{"id":67,"title":"Red","channel":"Alphablocks","age":3,"cat":"reading","youtubeId":"xrfRtAk77WQ"},{"id":68,"title":"Frog","channel":"Alphablocks","age":4,"cat":"reading","youtubeId":"XDOQf3Ep_pc"},{"id":69,"title":"Band","channel":"Alphablocks","age":4,"cat":"reading","youtubeId":"OlNeukXLPh0"},{"id":70,"title":"Magic E","channel":"Alphablocks","age":4,"cat":"reading","youtubeId":"5QCaYJ4UqTU"},{"id":71,"title":"Count to 100","channel":"Jack Hartmann","age":3,"cat":"math","youtubeId":"0TgLtF3PMOc"},{"id":72,"title":"Count by 2s","channel":"Jack Hartmann","age":4,"cat":"math","youtubeId":"OCxvNtrcDIs"},{"id":73,"title":"Count by 5s","channel":"Jack Hartmann","age":4,"cat":"math","youtubeId":"amxVL9KUmq8"},{"id":74,"title":"Count by 10s","channel":"Jack Hartmann","age":4,"cat":"math","youtubeId":"Ftati8iGQcs"},{"id":75,"title":"Alphabet Song","channel":"Jack Hartmann","age":2,"cat":"songs","youtubeId":"36IBDpTRVNE"},{"id":76,"title":"Letter Sounds","channel":"Jack Hartmann","age":3,"cat":"reading","youtubeId":"jvAYUvQUrGo"},{"id":77,"title":"See It Say It Sign It","channel":"Jack Hartmann","age":2,"cat":"reading","youtubeId":"UCYKLhEYlM4"},{"id":78,"title":"Phonics Song","channel":"Jack Hartmann","age":3,"cat":"reading","youtubeId":"BELlZKpi1Zs"},{"id":79,"title":"Sight Words","channel":"Jack Hartmann","age":4,"cat":"reading","youtubeId":"p0sNKcPBqMg"},{"id":80,"title":"Tooty Ta","channel":"Jack Hartmann","age":2,"cat":"movement","youtubeId":"Lm_Gqfn0bWA"},{"id":81,"title":"Freeze Dance","channel":"Jack Hartmann","age":2,"cat":"movement","youtubeId":"388Q44ReOWE"},{"id":82,"title":"Workout","channel":"Jack Hartmann","age":3,"cat":"movement","youtubeId":"Jm6Kgr6s9o0"},{"id":83,"title":"Exercise Song","channel":"Jack Hartmann","age":3,"cat":"movement","youtubeId":"SevYR4FWjZg"},{"id":84,"title":"Brain Break","channel":"Jack Hartmann","age":3,"cat":"movement","youtubeId":"dNL6RwymoNg"},{"id":85,"title":"Feelings Song","channel":"Jack Hartmann","age":3,"cat":"social","youtubeId":"UsISd1AMNYU"},{"id":86,"title":"Kindness Song","channel":"Jack Hartmann","age":3,"cat":"social","youtubeId":"HlgSA1LuAr4"},{"id":87,"title":"Addition","channel":"Jack Hartmann","age":4,"cat":"math","youtubeId":"Ac1IZGnqHuU"},{"id":88,"title":"Subtraction","channel":"Jack Hartmann","age":4,"cat":"math","youtubeId":"UT82a2nvaOM"},{"id":89,"title":"Shapes","channel":"Jack Hartmann","age":3,"cat":"math","youtubeId":"OEbRDtCAFdU"},{"id":90,"title":"Colors","channel":"Jack Hartmann","age":2,"cat":"songs","youtubeId":"zd0pah3xGYA"},{"id":91,"title":"Baby Shark","channel":"Super Simple","age":2,"cat":"songs","youtubeId":"XqZsoesa55w"},{"id":92,"title":"Twinkle Twinkle","channel":"Super Simple","age":2,"cat":"songs","youtubeId":"yCjJyiqpAuU"},{"id":93,"title":"Wheels On Bus","channel":"Super Simple","age":2,"cat":"songs","youtubeId":"e_04ZrNroTo"},{"id":94,"title":"Head Shoulders","channel":"Super Simple","age":2,"cat":"movement","youtubeId":"WX8HmogNyCY"},{"id":95,"title":"If Happy Clap","channel":"Super Simple","age":2,"cat":"songs","youtubeId":"l4WNrvVjiTw"},{"id":96,"title":"Old MacDonald","channel":"Super Simple","age":2,"cat":"songs","youtubeId":"_6HzoUcx3eo"},{"id":97,"title":"Five Monkeys","channel":"Super Simple","age":2,"cat":"songs","youtubeId":"b0NHrFNZWh0"},{"id":98,"title":"BINGO","channel":"Super Simple","age":2,"cat":"songs","youtubeId":"9mmF8zOlh_g"},{"id":99,"title":"Rain Go Away","channel":"Super Simple","age":2,"cat":"songs","youtubeId":"LFrKYjrIDs8"},{"id":100,"title":"Itsy Bitsy Spider","channel":"Super Simple","age":2,"cat":"songs","youtubeId":"w_lCi8U39IM"},{"id":101,"title":"ABC Song","channel":"Super Simple","age":2,"cat":"songs","youtubeId":"hq3yfQnllfQ"},{"id":102,"title":"Counting 1-10","channel":"Super Simple","age":2,"cat":"songs","youtubeId":"DR-cfDsHCGA"},{"id":103,"title":"ABCs with Elmo","channel":"Sesame Street","age":2,"cat":"reading","youtubeId":"SQsNeDmzCmI"},{"id":104,"title":"Counting with Count","channel":"Sesame Street","age":2,"cat":"songs","youtubeId":"lC2d5j_sZXk"},{"id":105,"title":"Elmo Brushes Teeth","channel":"Sesame Street","age":2,"cat":"social","youtubeId":"Mk5OG3grxnY"},{"id":106,"title":"Letter A","channel":"Sesame Street","age":2,"cat":"reading","youtubeId":"8-6p01f9-ok"},{"id":107,"title":"Letter B","channel":"Sesame Street","age":2,"cat":"reading","youtubeId":"E8Bw1HdqR4M"},{"id":108,"title":"Cookie Monster Waiting","channel":"Sesame Street","age":2,"cat":"social","youtubeId":"9PnbKL3wuH4"},{"id":109,"title":"Elmo Happy","channel":"Sesame Street","age":2,"cat":"social","youtubeId":"xV8Hg6I-XDA"},{"id":110,"title":"Numbers 1-10","channel":"Sesame Street","age":2,"cat":"math","youtubeId":"XdJRjFgGYss"},{"id":111,"title":"Elmo Song","channel":"Sesame Street","age":2,"cat":"songs","youtubeId":"tntOCGkgt98"},{"id":112,"title":"Sesame Songs","channel":"Sesame Street","age":3,"cat":"songs","youtubeId":"lYIRO97dhII"},{"id":113,"title":"Bluey Theme","channel":"Bluey","age":3,"cat":"social","youtubeId":"vTyUdRKOTGI"},{"id":114,"title":"Keepy Uppy","channel":"Bluey","age":3,"cat":"social","youtubeId":"P1PaZsN3GGs"},{"id":115,"title":"Magic Xylophone","channel":"Bluey","age":3,"cat":"social","youtubeId":"iVjRXrK0AHE"},{"id":116,"title":"The Pool","channel":"Bluey","age":4,"cat":"social","youtubeId":"I0grm_Sv8ao"},{"id":117,"title":"Sleepytime","channel":"Bluey","age":4,"cat":"social","youtubeId":"SYnoUhKKOV4"},{"id":118,"title":"Bike","channel":"Bluey","age":4,"cat":"social","youtubeId":"89Pb7rJiF3U"},{"id":119,"title":"Daddy Putdown","channel":"Bluey","age":3,"cat":"social","youtubeId":"WdKccgv4Lmg"},{"id":120,"title":"Grannies","channel":"Bluey","age":3,"cat":"social","youtubeId":"GpnMD0UwNOI"},{"id":121,"title":"Wagon Ride","channel":"Bluey","age":3,"cat":"social","youtubeId":"KqHp4KMSO5M"},{"id":122,"title":"Dance Mode","channel":"Bluey","age":3,"cat":"movement","youtubeId":"BjKL5F2FNTA"},{"id":123,"title":"Why Sky Blue","channel":"SciShow Kids","age":5,"cat":"science","youtubeId":"dWmWxr_6wG0"},{"id":124,"title":"How Birds Fly","channel":"SciShow Kids","age":5,"cat":"science","youtubeId":"6yICTqkY_BA"},{"id":125,"title":"Why Leaves Change","channel":"SciShow Kids","age":5,"cat":"nature","youtubeId":"TgZE7pijdp8"},{"id":126,"title":"How Fish Breathe","channel":"SciShow Kids","age":5,"cat":"nature","youtubeId":"5Obt0u9C-Dw"},{"id":127,"title":"Rainbows","channel":"SciShow Kids","age":4,"cat":"science","youtubeId":"EoCdp7GqT5M"},{"id":128,"title":"Volcanoes","channel":"SciShow Kids","age":5,"cat":"science","youtubeId":"5x1UnFz3czA"},{"id":129,"title":"Planets","channel":"SciShow Kids","age":5,"cat":"science","youtubeId":"Vb2ZXRh74WU"},{"id":130,"title":"Dinosaurs","channel":"SciShow Kids","age":5,"cat":"science","youtubeId":"A2qgLwrqDpQ"},{"id":131,"title":"Magnets","channel":"SciShow Kids","age":5,"cat":"science","youtubeId":"hcOC0-ILuQc"},{"id":132,"title":"Animals Sleep","channel":"SciShow Kids","age":4,"cat":"nature","youtubeId":"PvQ1JtXkRuA"},{"id":133,"title":"Baby Animals","channel":"SciShow Kids","age":4,"cat":"nature","youtubeId":"e9eYTNKMlmU"},{"id":134,"title":"Ocean Animals","channel":"SciShow Kids","age":5,"cat":"nature","youtubeId":"qEj7zzh5FKo"},{"id":135,"title":"Rainforest","channel":"SciShow Kids","age":5,"cat":"nature","youtubeId":"9jQFBg75ER0"},{"id":136,"title":"Amazing Lions","channel":"Nat Geo Kids","age":5,"cat":"nature","youtubeId":"aPi2aTGXOlk"},{"id":137,"title":"Amazing Elephants","channel":"Nat Geo Kids","age":5,"cat":"nature","youtubeId":"GECkhPVLPio"},{"id":138,"title":"Amazing Sharks","channel":"Nat Geo Kids","age":5,"cat":"nature","youtubeId":"bWqOmzkIWv0"},{"id":139,"title":"Amazing Dolphins","channel":"Nat Geo Kids","age":5,"cat":"nature","youtubeId":"R7hh0FQi5nU"},{"id":140,"title":"Amazing Tigers","channel":"Nat Geo Kids","age":5,"cat":"nature","youtubeId":"TO_fCm7P3xg"},{"id":141,"title":"Amazing Bears","channel":"Nat Geo Kids","age":5,"cat":"nature","youtubeId":"x0niFy0h0cg"},{"id":142,"title":"Coral Reefs","channel":"Nat Geo Kids","age":6,"cat":"nature","youtubeId":"ZEZCI89BPCc"},{"id":143,"title":"Ocean Life","channel":"Nat Geo Kids","age":6,"cat":"nature","youtubeId":"PaErPyEnDvk"},{"id":144,"title":"Space 101","channel":"Nat Geo Kids","age":6,"cat":"space","youtubeId":"libKVRa01L8"},{"id":145,"title":"What is Science","channel":"Crash Course Kids","age":6,"cat":"science","youtubeId":"Y1F4rB1Lk2Q"},{"id":146,"title":"Earth's Spheres","channel":"Crash Course Kids","age":6,"cat":"science","youtubeId":"VMxjzWHbyFM"},{"id":147,"title":"Matter","channel":"Crash Course Kids","age":6,"cat":"science","youtubeId":"btneVPIvKRM"},{"id":148,"title":"Gravity","channel":"Crash Course Kids","age":6,"cat":"science","youtubeId":"E4aV5nBCNkk"},{"id":149,"title":"Food Chains","channel":"Crash Course Kids","age":6,"cat":"science","youtubeId":"MuKs9o1s8h8"},{"id":150,"title":"Water Cycle","channel":"Crash Course Kids","age":6,"cat":"science","youtubeId":"ncORPosDrjI"},{"id":151,"title":"Weathering","channel":"Crash Course Kids","age":6,"cat":"science","youtubeId":"R-2k8WYR7bY"},{"id":152,"title":"Resources","channel":"Crash Course Kids","age":6,"cat":"science","youtubeId":"xmnkXXBtGsw"},{"id":153,"title":"Engineering","channel":"Crash Course Kids","age":6,"cat":"science","youtubeId":"owHF9iLyxic"},{"id":154,"title":"Light","channel":"Crash Course Kids","age":6,"cat":"science","youtubeId":"HAqN5hxpqHs"},{"id":155,"title":"3 Times Table","channel":"Numberock","age":6,"cat":"math","youtubeId":"Dak8qEXyGJQ"},{"id":156,"title":"4 Times Table","channel":"Numberock","age":6,"cat":"math","youtubeId":"8QZ8-1DRQD4"},{"id":157,"title":"5 Times Table","channel":"Numberock","age":6,"cat":"math","youtubeId":"JYR-_dDX5F8"},{"id":158,"title":"6 Times Table","channel":"Numberock","age":6,"cat":"math","youtubeId":"H9LaXq-yGYE"},{"id":159,"title":"7 Times Table","channel":"Numberock","age":6,"cat":"math","youtubeId":"mRUZ9pnJAfU"},{"id":160,"title":"8 Times Table","channel":"Numberock","age":6,"cat":"math","youtubeId":"6nIjmaoRcow"},{"id":161,"title":"9 Times Table","channel":"Numberock","age":6,"cat":"math","youtubeId":"QrInrj0mbTg"},{"id":162,"title":"Fractions","channel":"Numberock","age":6,"cat":"math","youtubeId":"PuZeRCWbF1g"},{"id":163,"title":"Division","channel":"Numberock","age":6,"cat":"math","youtubeId":"J8cBDm3Wq9E"},{"id":164,"title":"Place Value","channel":"Numberock","age":5,"cat":"math","youtubeId":"cifTq_BCMRU"},{"id":165,"title":"Geometry","channel":"Numberock","age":6,"cat":"math","youtubeId":"6G9A5nt_vwQ"},{"id":166,"title":"Area","channel":"Numberock","age":6,"cat":"math","youtubeId":"9tgd_0OGmBI"},{"id":167,"title":"Perimeter","channel":"Numberock","age":6,"cat":"math","youtubeId":"AWJwtBxvLhA"},{"id":168,"title":"How Bees See","channel":"TED-Ed","age":7,"cat":"science","youtubeId":"nWzLE9RQpIw"},{"id":169,"title":"Ocean Currents","channel":"TED-Ed","age":7,"cat":"science","youtubeId":"p4pWafuvdrY"},{"id":170,"title":"DNA","channel":"TED-Ed","age":8,"cat":"science","youtubeId":"zwibgNGe4aY"},{"id":171,"title":"Evolution","channel":"TED-Ed","age":8,"cat":"science","youtubeId":"GhHOjC4oxh8"},{"id":172,"title":"Brain","channel":"TED-Ed","age":8,"cat":"science","youtubeId":"JVRyzYB9JSo"},{"id":173,"title":"Black Holes","channel":"TED-Ed","age":8,"cat":"science","youtubeId":"e-P5IFTqB98"},{"id":174,"title":"Light","channel":"TED-Ed","age":7,"cat":"science","youtubeId":"IXxZRZxafEQ"},{"id":175,"title":"Sound Waves","channel":"TED-Ed","age":7,"cat":"science","youtubeId":"TsGL46JXdKI"},{"id":176,"title":"Chemical Reactions","channel":"TED-Ed","age":8,"cat":"science","youtubeId":"oHzADl-XID8"},{"id":177,"title":"Gravity","channel":"TED-Ed","age":7,"cat":"science","youtubeId":"Jk5E-CrTPVo"},{"id":178,"title":"Stellaluna","channel":"Storyline Online","age":4,"cat":"stories","youtubeId":"LMGG9rewqrE"},{"id":179,"title":"Guji Guji","channel":"Storyline Online","age":4,"cat":"stories","youtubeId":"5vOSZp7qlj0"},{"id":180,"title":"Otter Moon","channel":"Storyline Online","age":4,"cat":"stories","youtubeId":"3GlY5Ng5Jt0"},{"id":181,"title":"Brave Irene","channel":"Storyline Online","age":5,"cat":"stories","youtubeId":"0uPgBdYZ8aE"},{"id":182,"title":"Thank You Mr Falker","channel":"Storyline Online","age":5,"cat":"stories","youtubeId":"0b_Rn3a4bYU"},{"id":183,"title":"Reading Aloud","channel":"Storyline Online","age":4,"cat":"stories","youtubeId":"KF-RbzABYKI"},{"id":184,"title":"Sylvester Magic Pebble","channel":"Storyline Online","age":5,"cat":"stories","youtubeId":"O8pU0b0-HYQ"},{"id":185,"title":"Fireboat","channel":"Storyline Online","age":5,"cat":"stories","youtubeId":"r7gAE4n-nLs"},{"id":186,"title":"Enemy Pie","channel":"Storyline Online","age":4,"cat":"stories","youtubeId":"fTQDx9M2l5A"},{"id":187,"title":"Clark Shark","channel":"Storyline Online","age":4,"cat":"stories","youtubeId":"Rg_gNA2VYkw"},{"id":188,"title":"Hour of Code Intro","channel":"Code.org","age":6,"cat":"coding","youtubeId":"bQilo5ecSX4"},{"id":189,"title":"What is Code","channel":"Code.org","age":6,"cat":"coding","youtubeId":"THOEQ5soVpY"},{"id":190,"title":"Loops","channel":"Code.org","age":6,"cat":"coding","youtubeId":"mgooqyWMTxk"},{"id":191,"title":"Conditionals","channel":"Code.org","age":6,"cat":"coding","youtubeId":"yr6IzOGoMsQ"},{"id":192,"title":"Functions","channel":"Code.org","age":7,"cat":"coding","youtubeId":"yPWQfa4CHbw"},{"id":193,"title":"Variables","channel":"Code.org","age":7,"cat":"coding","youtubeId":"HmWJwxApAIY"},{"id":194,"title":"Algorithms","channel":"Code.org","age":6,"cat":"coding","youtubeId":"Da5TOXCwLSg"},{"id":195,"title":"Debugging","channel":"Code.org","age":6,"cat":"coding","youtubeId":"auv10y-dN4s"},{"id":196,"title":"Frozen Yoga","channel":"Cosmic Kids","age":3,"cat":"movement","youtubeId":"xlg052EKMtk"},{"id":197,"title":"Minecraft Yoga","channel":"Cosmic Kids","age":4,"cat":"movement","youtubeId":"02E1468SdHg"},{"id":198,"title":"Pokemon Yoga","channel":"Cosmic Kids","age":4,"cat":"movement","youtubeId":"tbCjkPlsaes"},{"id":199,"title":"Trolls Yoga","channel":"Cosmic Kids","age":3,"cat":"movement","youtubeId":"Td0Nf-0LKiU"},{"id":200,"title":"Moana Yoga","channel":"Cosmic Kids","age":4,"cat":"movement","youtubeId":"6ylCSdzcE60"},{"id":201,"title":"Spiderman Yoga","channel":"Cosmic Kids","age":4,"cat":"movement","youtubeId":"fnO-lJEiEWM"},{"id":202,"title":"Star Wars Yoga","channel":"Cosmic Kids","age":5,"cat":"movement","youtubeId":"P7X6Z44P3ks"},{"id":203,"title":"Dinosaur Yoga","channel":"Cosmic Kids","age":3,"cat":"movement","youtubeId":"dGvHM-HHXG4"},{"id":204,"title":"Rainbow Yoga","channel":"Cosmic Kids","age":3,"cat":"movement","youtubeId":"e5QyJVxJulg"},{"id":205,"title":"Calm Down Yoga","channel":"Cosmic Kids","age":3,"cat":"movement","youtubeId":"HKY7hG8Ol_E"},{"id":206,"title":"Continents Song","channel":"Kids Learning Tube","age":6,"cat":"geography","youtubeId":"K6DSMZ8b3LE"},{"id":207,"title":"50 States Song","channel":"Kids Learning Tube","age":6,"cat":"geography","youtubeId":"WhDrGnjacvA"},{"id":208,"title":"Countries Song","channel":"Kids Learning Tube","age":6,"cat":"geography","youtubeId":"qMXQZ-0k0ws"},{"id":209,"title":"Five Little Monkeys","channel":"Pinkfong","age":2,"cat":"songs","youtubeId":"LhYDIqoUTY8"},{"id":210,"title":"Wheels on Bus","channel":"Pinkfong","age":2,"cat":"songs","youtubeId":"HP-MbfHFX9o"},{"id":211,"title":"ABC Song","channel":"Pinkfong","age":2,"cat":"songs","youtubeId":"S_E2EfYp6LY"},{"id":212,"title":"Dinosaur Song","channel":"Pinkfong","age":2,"cat":"songs","youtubeId":"Ipc9q1JXLlQ"},{"id":213,"title":"Animal Sounds","channel":"Pinkfong","age":2,"cat":"songs","youtubeId":"t99ULJjCsaM"},{"id":214,"title":"Finger Family","channel":"Pinkfong","age":2,"cat":"songs","youtubeId":"wlojQFdHIuo"},{"id":215,"title":"Learn to Talk","channel":"Ms Rachel","age":2,"cat":"songs","youtubeId":"edfVzXPqYn0"},{"id":216,"title":"Baby Songs","channel":"Ms Rachel","age":2,"cat":"songs","youtubeId":"EhqR-WDwXJU"},{"id":217,"title":"First Words","channel":"Ms Rachel","age":2,"cat":"reading","youtubeId":"Dh7oc3XPplY"},{"id":218,"title":"Toddler Songs","channel":"Ms Rachel","age":2,"cat":"songs","youtubeId":"jm0hQSBHyq8"},{"id":219,"title":"Learning Colors","channel":"Ms Rachel","age":2,"cat":"songs","youtubeId":"wLOx7J_2eBI"},{"id":220,"title":"Five Ducks LBB","channel":"Little Baby Bum","age":2,"cat":"songs","youtubeId":"pZw9veQ76fo"},{"id":221,"title":"Johny Johny","channel":"Little Baby Bum","age":2,"cat":"songs","youtubeId":"Y0Z4BXUDN7Y"},{"id":222,"title":"Nursery Rhymes","channel":"Little Baby Bum","age":2,"cat":"songs","youtubeId":"Yw6u6YkTgQ4"},{"id":223,"title":"Nouns","channel":"Grammaropolis","age":6,"cat":"reading","youtubeId":"RPoBE-E8VOc"},{"id":224,"title":"Verbs","channel":"Grammaropolis","age":6,"cat":"reading","youtubeId":"X6aJRu7qA5Q"},{"id":225,"title":"Adjectives","channel":"Grammaropolis","age":6,"cat":"reading","youtubeId":"jMc0SN6-D4c"},{"id":226,"title":"Adverbs","channel":"Grammaropolis","age":6,"cat":"reading","youtubeId":"VHN5FIl1gj0"},{"id":227,"title":"Pronouns","channel":"Grammaropolis","age":6,"cat":"reading","youtubeId":"oH9tNjkVhvI"},{"id":228,"title":"Nouns Song","channel":"Scratch Garden","age":6,"cat":"reading","youtubeId":"UejFXAhG3IA"},{"id":229,"title":"Verbs Song","channel":"Scratch Garden","age":6,"cat":"reading","youtubeId":"IbLrO9pUhzQ"},{"id":230,"title":"Adjectives Song","channel":"Scratch Garden","age":6,"cat":"reading","youtubeId":"NkuuZEey_bs"},{"id":231,"title":"Pronouns Song","channel":"Scratch Garden","age":6,"cat":"reading","youtubeId":"LkRnr_wf-JU"},{"id":232,"title":"Sight Words","channel":"Scratch Garden","age":5,"cat":"reading","youtubeId":"DQ1drYUxVs0"},{"id":233,"title":"American Revolution","channel":"Homeschool Pop","age":7,"cat":"history","youtubeId":"Eytc9ZaN9u4"},{"id":234,"title":"Civil War","channel":"Homeschool Pop","age":7,"cat":"history","youtubeId":"6T7pUEZfgdI"},{"id":235,"title":"World War 2","channel":"Homeschool Pop","age":7,"cat":"history","youtubeId":"HUqy-OQvVtI"},{"id":236,"title":"George Washington","channel":"Homeschool Pop","age":7,"cat":"history","youtubeId":"Z0XyNo7VLVE"},{"id":237,"title":"Abraham Lincoln","channel":"Homeschool Pop","age":7,"cat":"history","youtubeId":"2Q2EJQmTXkA"},{"id":238,"title":"MLK Jr","channel":"Homeschool Pop","age":7,"cat":"history","youtubeId":"Jb9jE1AKWeY"},{"id":239,"title":"Layers of Earth","channel":"Learn Bright","age":7,"cat":"science","youtubeId":"eXiVGEEPQ6c"},{"id":240,"title":"Water Cycle","channel":"Learn Bright","age":7,"cat":"science","youtubeId":"y5gFI3pMvoI"},{"id":241,"title":"Photosynthesis","channel":"Learn Bright","age":7,"cat":"science","youtubeId":"CMiSF7LmXXQ"},{"id":242,"title":"World War 1","channel":"Simple History","age":8,"cat":"history","youtubeId":"dHSQAEam2yc"},{"id":243,"title":"Ancient Rome","channel":"Simple History","age":8,"cat":"history","youtubeId":"gqhdJPqQPJE"},{"id":244,"title":"Vikings","channel":"Simple History","age":8,"cat":"history","youtubeId":"Wc5g4CR_dfc"},{"id":245,"title":"Knights","channel":"Simple History","age":8,"cat":"history","youtubeId":"Y5_ksmITlrE"},{"id":246,"title":"Leonardo da Vinci","channel":"Free School","age":8,"cat":"history","youtubeId":"S-v-H9VCaRc"},{"id":247,"title":"Vincent van Gogh","channel":"Free School","age":8,"cat":"history","youtubeId":"5Z4q_w0v89M"},{"id":248,"title":"Mozart","channel":"Free School","age":8,"cat":"history","youtubeId":"Rb0UmrCXxVA"},{"id":249,"title":"Beethoven","channel":"Free School","age":8,"cat":"history","youtubeId":"4NZBqj4-vH4"}];

const QUIZ_INTERVAL = 180;
const CATEGORIES = {
  2: { songs: 'üéµ Songs', movement: 'üíÉ Dance', social: 'ü§ù Feelings' },
  3: { math: 'üî¢ Numbers', reading: 'üìñ Letters', social: 'ü§ù Social', science: 'üî¨ Science', movement: 'üßò Yoga' },
  4: { math: 'üî¢ Math', reading: 'üìñ Reading', science: 'üî¨ Science', social: 'ü§ù Social', stories: 'üìö Stories', movement: 'üßò Yoga' },
  5: { math: 'üî¢ Math', reading: 'üìñ Reading', science: 'üî¨ Science', nature: 'üåø Nature', stories: 'üìö Stories' },
  6: { math: 'üî¢ Math', reading: 'üìñ Language', science: 'üî¨ Science', geography: 'üåç Geography', coding: 'üíª Coding', space: 'üöÄ Space', nature: 'üåø Nature' },
  7: { math: 'üî¢ Math', science: 'üî¨ Science', nature: 'üåø Nature', coding: 'üíª Coding', history: 'üìú History' },
  8: { science: 'üî¨ Science', coding: 'üíª Coding', math: 'üî¢ Math', history: 'üìú History' },
};

const QUESTIONS = {
  2: [{ q: 'What color is the sun?', answers: ['Yellow', 'Blue', 'Green'], correct: 0, emoji: '‚òÄÔ∏è' }, { q: 'How many legs does a dog have?', answers: ['2', '4', '6'], correct: 1, emoji: 'üêï' }],
  4: [{ q: 'What do plants need to grow?', answers: ['Candy', 'Water and Sun', 'Toys'], correct: 1, emoji: 'üå±' }, { q: 'What is 2 plus 3?', answers: ['4', '5', '6'], correct: 1, emoji: 'üî¢' }],
  6: [{ q: 'Which planet is red?', answers: ['Venus', 'Mars', 'Jupiter'], correct: 1, emoji: 'üî¥' }, { q: 'What is 8 times 7?', answers: ['54', '56', '58'], correct: 1, emoji: '‚úñÔ∏è' }],
};

const useSpeech = () => {
  const speak = (text) => { if ('speechSynthesis' in window) { window.speechSynthesis.cancel(); const u = new SpeechSynthesisUtterance(text); u.rate = 0.9; window.speechSynthesis.speak(u); } };
  return { speak };
};

const Fox = ({size=60, happy}) => <svg viewBox="0 0 80 80" width={size} height={size}><circle cx="40" cy="42" r="32" fill="#FF9A5C"/><polygon points="12,20 25,45 5,40" fill="#FF9A5C"/><polygon points="68,20 55,45 75,40" fill="#FF9A5C"/><ellipse cx="40" cy="52" rx="18" ry="14" fill="#FFD4B8"/><circle cx="30" cy="38" r="6" fill="#333"/><circle cx="50" cy="38" r="6" fill="#333"/><ellipse cx="40" cy="48" rx="4" ry="3" fill="#333"/>{happy && <ellipse cx="40" cy="58" rx="6" ry="5" fill="#333"/>}</svg>;
const Bunny = ({size=60}) => <svg viewBox="0 0 80 80" width={size} height={size}><circle cx="40" cy="48" r="28" fill="#FFB6C1"/><ellipse cx="25" cy="18" rx="10" ry="24" fill="#FFB6C1"/><ellipse cx="55" cy="18" rx="10" ry="24" fill="#FFB6C1"/><circle cx="30" cy="45" r="5" fill="#333"/><circle cx="50" cy="45" r="5" fill="#333"/><ellipse cx="40" cy="54" rx="4" ry="2.5" fill="#FF8A80"/></svg>;
const Owl = ({size=60}) => <svg viewBox="0 0 80 80" width={size} height={size}><circle cx="40" cy="44" r="30" fill="#8D6E63"/><ellipse cx="40" cy="46" rx="22" ry="20" fill="#D7CCC8"/><circle cx="30" cy="42" r="10" fill="#FFF"/><circle cx="50" cy="42" r="10" fill="#FFF"/><circle cx="30" cy="42" r="5" fill="#333"/><circle cx="50" cy="42" r="5" fill="#333"/><polygon points="40,50 35,58 45,58" fill="#FF9800"/></svg>;
const Panda = ({size=60}) => <svg viewBox="0 0 80 80" width={size} height={size}><circle cx="40" cy="44" r="30" fill="#FFF"/><circle cx="16" cy="22" r="10" fill="#333"/><circle cx="64" cy="22" r="10" fill="#333"/><ellipse cx="28" cy="40" rx="11" ry="13" fill="#333"/><ellipse cx="52" cy="40" rx="11" ry="13" fill="#333"/><circle cx="28" cy="40" r="6" fill="#FFF"/><circle cx="52" cy="40" r="6" fill="#FFF"/><circle cx="28" cy="40" r="3" fill="#333"/><circle cx="52" cy="40" r="3" fill="#333"/><ellipse cx="40" cy="52" rx="6" ry="4" fill="#333"/></svg>;
const avatars = [Fox, Bunny, Owl, Panda];
const avatarNames = ['Foxy', 'Bun Bun', 'Ollie', 'Pan Pan'];

const QuestionModal = ({ question, onAnswer }) => {
  const [sel, setSel] = useState(null);
  const [done, setDone] = useState(false);
  const { speak } = useSpeech();
  useEffect(() => { speak(question.q); }, []);
  const pick = (i) => { setSel(i); setDone(true); speak(i === question.correct ? "That's right!" : "Good try!"); setTimeout(() => onAnswer(i === question.correct), 2000); };
  return (
    <div className="fixed inset-0 bg-gradient-to-b from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center z-50 p-4">
      <div className="max-w-lg w-full text-center">
        {!done ? (<><div className="text-8xl mb-6">{question.emoji}</div><h2 className="text-3xl font-bold text-white mb-6">{question.q}</h2><button onClick={() => speak(question.q)} className="px-5 py-2 bg-white/20 rounded-full text-white mb-8"><Volume2 className="w-5 h-5 inline mr-2"/>Read to me</button><div className="space-y-3">{question.answers.map((a,i) => <button key={i} onClick={() => pick(i)} className="w-full py-4 rounded-2xl bg-white/20 hover:bg-white text-white hover:text-indigo-600 text-xl font-bold transition-all">{a}</button>)}</div></>) : (<><div className="text-9xl mb-6">{sel === question.correct ? '‚≠ê' : 'üòÖ'}</div><h2 className="text-4xl font-bold text-white">{sel === question.correct ? 'You got it!' : 'So close!'}</h2></>)}
      </div>
    </div>
  );
};

const JarFullModal = ({ name, onClaim }) => (<div className="fixed inset-0 bg-gradient-to-b from-amber-500 via-orange-500 to-rose-500 flex items-center justify-center z-50 p-4"><div className="text-center"><div className="text-9xl mb-4">üéâ</div><h2 className="text-4xl font-bold text-white mb-3">Bonus Unlocked!</h2><p className="text-2xl text-white/90 mb-8">Way to go, {name}!</p><button onClick={onClaim} className="px-10 py-5 bg-white text-orange-500 font-bold text-xl rounded-2xl shadow-xl hover:scale-105 transition-transform">üé¨ Pick a bonus!</button></div></div>);

const YouTubePlayer = ({ video, onBack, onQuizTime, rewards }) => {
  const [watchTime, setWatchTime] = useState(0);
  const timerRef = useRef(null);
  const lastQuizRef = useRef(0);

  useEffect(() => {
    const startDelay = setTimeout(() => {
      timerRef.current = setInterval(() => {
        setWatchTime(prev => {
          const newTime = prev + 1;
          if (rewards && newTime - lastQuizRef.current >= QUIZ_INTERVAL) { lastQuizRef.current = newTime; onQuizTime(); }
          return newTime;
        });
      }, 1000);
    }, 2000);
    return () => { clearTimeout(startDelay); if (timerRef.current) clearInterval(timerRef.current); };
  }, [rewards, onQuizTime]);

  const fmt = s => `${Math.floor(s/60)}:${String(s%60).padStart(2,'0')}`;
  const nextQuiz = QUIZ_INTERVAL - (watchTime - lastQuizRef.current);

  return (
    <div className="space-y-4">
      <button onClick={onBack} className="px-4 py-2 bg-white hover:bg-gray-50 rounded-full font-medium text-gray-600 flex items-center gap-2 shadow-md"><ArrowLeft className="w-4 h-4"/>Back</button>
      <div className="bg-white rounded-3xl overflow-hidden shadow-2xl">
        <div className="relative aspect-video bg-black">
          <iframe src={`https://www.youtube.com/embed/${video.youtubeId}?autoplay=1&rel=0&modestbranding=1`} className="w-full h-full" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen/>
          {rewards && nextQuiz <= 30 && nextQuiz > 0 && <div className="absolute top-4 right-4 bg-gradient-to-r from-orange-500 to-red-500 rounded-full px-4 py-2 flex items-center gap-2 shadow-lg animate-pulse z-10"><Star className="w-4 h-4 text-yellow-300"/><span className="text-white font-bold text-sm">Quiz in {nextQuiz}s!</span></div>}
        </div>
        <div className="p-4 flex items-center justify-between border-t bg-gray-50">
          <div className="flex-1 min-w-0"><h3 className="font-bold text-gray-800 truncate">{video.title}</h3><p className="text-sm text-gray-500">{video.channel}</p></div>
          <div className="flex items-center gap-3 ml-4"><div className="bg-green-100 text-green-700 px-3 py-1.5 rounded-full text-sm font-medium flex items-center gap-1.5"><Play className="w-3 h-3"/>Playing</div><div className="bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-full text-sm font-bold">‚è±Ô∏è {fmt(watchTime)}</div></div>
        </div>
      </div>
    </div>
  );
};

const VideoThumbnail = ({ video, onClick }) => {
  const [imgError, setImgError] = useState(false);
  return (
    <button onClick={onClick} className="group text-left rounded-2xl overflow-hidden bg-white shadow-md hover:shadow-xl hover:scale-105 transition-all">
      <div className="relative aspect-video bg-gradient-to-br from-purple-400 to-pink-400">
        {!imgError ? <img src={`https://img.youtube.com/vi/${video.youtubeId}/mqdefault.jpg`} alt={video.title} className="w-full h-full object-cover" onError={() => setImgError(true)}/> : <div className="w-full h-full flex items-center justify-center text-white"><span className="text-5xl">üé¨</span></div>}
        <div className="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity"><div className="w-12 h-12 rounded-full bg-white flex items-center justify-center shadow-lg"><Play className="w-5 h-5 text-gray-700"/></div></div>
      </div>
      <div className="p-3 bg-white"><h3 className="font-bold text-sm text-gray-800 line-clamp-2">{video.title}</h3><p className="text-xs text-gray-500 mt-1">{video.channel}</p></div>
    </button>
  );
};

const VideoGrid = ({ videos, onSelect }) => <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">{videos.map(v => <VideoThumbnail key={v.id} video={v} onClick={() => onSelect(v)} />)}</div>;

const ChildModal = ({ child, onSave, onClose }) => {
  const [name, setName] = useState(child?.name || '');
  const [age, setAge] = useState(child?.age || 4);
  const [av, setAv] = useState(child?.avatar || 0);
  return (
    <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
      <div className="bg-white rounded-3xl p-8 max-w-md w-full">
        <div className="flex justify-between items-center mb-6"><h2 className="text-2xl font-bold">{child ? 'Edit' : 'Add'} Profile</h2><button onClick={onClose}><X className="w-5 h-5 text-gray-500"/></button></div>
        <div className="flex gap-3 justify-center mb-6">{avatars.map((A,i) => <button key={i} onClick={() => setAv(i)} className={`p-2 rounded-xl ${av === i ? 'bg-indigo-100 ring-2 ring-indigo-400' : ''}`}><A size={50}/><span className="text-xs text-gray-500 block">{avatarNames[i]}</span></button>)}</div>
        <input value={name} onChange={e => setName(e.target.value)} className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-lg mb-4" placeholder="Name"/>
        <div className="mb-6"><span className="text-sm text-gray-600">Age: {age}</span><input type="range" min="2" max="8" value={age} onChange={e => setAge(+e.target.value)} className="w-full mt-2"/></div>
        <div className="flex gap-3"><button onClick={onClose} className="flex-1 py-3 rounded-xl border-2 border-gray-200 font-bold text-gray-600">Cancel</button><button onClick={() => name.trim() && (onSave({id: child?.id || Date.now(), name, age, avatar: av}), onClose())} className="flex-1 py-3 rounded-xl bg-indigo-500 font-bold text-white">{child ? 'Save' : 'Add'}</button></div>
      </div>
    </div>
  );
};

const SetupPage = ({ kids, onStart, onAdd }) => {
  const [step, setStep] = useState(1);
  const [sel, setSel] = useState(null);
  const [dur, setDur] = useState(30);
  const [cats, setCats] = useState([]);
  const [modal, setModal] = useState(false);
  const [rewards, setRewards] = useState(true);
  const [goal, setGoal] = useState(5);
  const ageGroup = sel ? (sel.age <= 3 ? 2 : sel.age <= 5 ? 4 : 6) : null;
  const avail = ageGroup ? Object.entries(CATEGORIES[ageGroup]) : [];
  const videoCount = ageGroup ? VIDEOS.filter(v => v.age === ageGroup).length : 0;
  const canGo = () => step === 1 ? sel : step === 2 ? cats.length > 0 : true;
  const next = () => step === 3 ? onStart(sel, dur, cats, {enabled: rewards, goal}) : setStep(step + 1);

  return (
    <div className="min-h-screen bg-gradient-to-b from-indigo-500 via-purple-500 to-pink-500 flex flex-col relative overflow-hidden">
      <div className="relative z-10 px-6 pt-6 pb-2 flex items-center justify-between">
        <div className="flex items-center gap-2"><div className="w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center"><span className="text-xl">ü¶ä</span></div><span className="text-xl font-bold text-white">kindi</span><span className="ml-2 px-2 py-0.5 bg-white/20 rounded text-xs text-white/80">{VIDEOS.length} videos</span></div>
        <button onClick={() => setModal(true)} className="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30"><Plus className="w-5 h-5 text-white"/></button>
      </div>
      <div className="relative z-10 flex-1 flex flex-col justify-center px-6 py-6 max-w-xl mx-auto w-full">
        {step === 1 && (<div className="text-center"><h1 className="text-3xl font-bold text-white mb-2">Who's watching?</h1><p className="text-white/70 mb-10">Tap to choose</p><div className="flex justify-center gap-6 flex-wrap">{kids.map(k => { const A = avatars[k.avatar || 0]; return (<button key={k.id} onClick={() => { setSel(k); setCats([]); }} className={`relative transition-all ${sel?.id === k.id ? 'scale-110' : 'opacity-70 hover:opacity-100'}`}><div className={`w-20 h-20 rounded-2xl flex items-center justify-center ${sel?.id === k.id ? 'bg-white shadow-xl' : 'bg-white/20'}`}><A size={50} happy={sel?.id === k.id}/></div><p className={`mt-3 font-semibold ${sel?.id === k.id ? 'text-white' : 'text-white/70'}`}>{k.name}</p><p className={`text-sm ${sel?.id === k.id ? 'text-white/80' : 'text-white/50'}`}>{k.age} years</p></button>);})}</div>{sel && <p className="text-white/60 mt-8 text-sm">{videoCount} videos for age {sel.age}</p>}</div>)}
        {step === 2 && (<div className="text-center"><h1 className="text-3xl font-bold text-white mb-2">Pick adventures</h1><p className="text-white/70 mb-8">What sounds fun?</p><div className="grid grid-cols-3 gap-3">{avail.map(([k, l]) => { const isSel = cats.includes(k); const count = VIDEOS.filter(v => v.age === ageGroup && v.cat === k).length; return (<button key={k} onClick={() => setCats(p => p.includes(k) ? p.filter(c => c !== k) : [...p, k])} className={`aspect-square rounded-2xl flex flex-col items-center justify-center transition-all ${isSel ? 'bg-white shadow-xl scale-105' : 'bg-white/20 hover:bg-white/30'}`}><span className="text-2xl mb-1">{l.split(' ')[0]}</span><span className={`text-xs font-semibold ${isSel ? 'text-indigo-600' : 'text-white'}`}>{l.split(' ').slice(1).join(' ')}</span><span className={`text-xs mt-1 ${isSel ? 'text-gray-500' : 'text-white/60'}`}>{count}</span></button>);})}</div></div>)}
        {step === 3 && (<div className="text-center"><h1 className="text-3xl font-bold text-white mb-2">Set it up</h1><div className="bg-white/20 rounded-2xl p-5 mb-4"><p className="text-white/80 text-sm mb-3"><Clock className="w-4 h-4 inline mr-2"/>Duration</p><div className="flex gap-2">{[15,30,45,60].map(m => <button key={m} onClick={() => setDur(m)} className={`flex-1 py-3 rounded-xl font-bold ${dur === m ? 'bg-white text-indigo-600' : 'bg-white/20 text-white'}`}>{m}m</button>)}</div></div><div className="bg-white/20 rounded-2xl p-5 mb-4"><button onClick={() => setRewards(!rewards)} className={`flex items-center gap-2 px-4 py-2 rounded-full mx-auto mb-3 ${rewards ? 'bg-amber-400 text-amber-900' : 'bg-white/20 text-white'}`}><Star className="w-4 h-4"/><span className="font-bold text-sm">Star Rewards</span></button>{rewards && (<><p className="text-white/80 text-sm mb-3">Stars for bonus</p><div className="flex gap-2">{[3,5,10].map(n => <button key={n} onClick={() => setGoal(n)} className={`flex-1 py-3 rounded-xl font-bold ${goal === n ? 'bg-amber-400 text-amber-900' : 'bg-white/20 text-white'}`}>{n} ‚≠ê</button>)}</div></>)}</div></div>)}
      </div>
      <div className="relative z-10 px-6 pb-8 max-w-xl mx-auto w-full">
        <div className="flex justify-center gap-2 mb-4">{[1,2,3].map(s => <button key={s} onClick={() => s < step && setStep(s)} className={`h-2 rounded-full ${step === s ? 'w-8 bg-white' : s < step ? 'w-2 bg-white/60' : 'w-2 bg-white/30'}`}/>)}</div>
        <div className="flex gap-3">{step > 1 && <button onClick={() => setStep(step-1)} className="flex-1 py-4 bg-white/20 text-white font-bold rounded-2xl">Back</button>}<button onClick={next} disabled={!canGo()} className="flex-1 py-4 bg-white text-indigo-600 font-bold rounded-2xl shadow-xl disabled:opacity-50">{step === 3 ? "Let's Go! üöÄ" : 'Next'}</button></div>
      </div>
      {modal && <ChildModal onSave={onAdd} onClose={() => setModal(false)}/>}
    </div>
  );
};

const WatchPage = ({ child, duration, categories, rewards, onEnd }) => {
  const [video, setVideo] = useState(null);
  const [timeUp, setTimeUp] = useState(false);
  const [active, setActive] = useState(categories);
  const [stars, setStars] = useState(0);
  const [question, setQuestion] = useState(null);
  const [jarFull, setJarFull] = useState(false);
  const [sessionTime, setSessionTime] = useState(duration * 60);
  const [search, setSearch] = useState('');
  const ageGroup = child.age <= 3 ? 2 : child.age <= 5 ? 4 : 6;
  const allCats = CATEGORIES[ageGroup];
  const availCats = categories.map(k => [k, allCats[k]]);
  
  // Filter videos first
  const matchingVideos = VIDEOS.filter(v => {
    if (v.age !== ageGroup) return false;
    if (!active.includes(v.cat)) return false;
    if (search && !v.title.toLowerCase().includes(search.toLowerCase())) return false;
    return true;
  });
  
  // Interleave by channel for variety - memoized to prevent reshuffling
  const filteredVideos = React.useMemo(() => {
    const videos = [...matchingVideos];
    if (videos.length === 0) return [];
    
    // Group by channel
    const byChannel = {};
    videos.forEach(v => {
      if (!byChannel[v.channel]) byChannel[v.channel] = [];
      byChannel[v.channel].push(v);
    });
    
    // Seeded shuffle each channel (consistent per session)
    const seed = ageGroup * 1000 + active.join('').length;
    const seededRandom = (i) => {
      const x = Math.sin(seed + i) * 10000;
      return x - Math.floor(x);
    };
    
    let idx = 0;
    Object.keys(byChannel).forEach(ch => {
      byChannel[ch].sort((a, b) => seededRandom(idx++) - 0.5);
    });
    
    // Round-robin interleave from each channel
    const result = [];
    const channels = Object.keys(byChannel).sort((a, b) => seededRandom(idx++) - 0.5);
    let added = true;
    while (added) {
      added = false;
      for (const ch of channels) {
        if (byChannel[ch].length > 0) {
          result.push(byChannel[ch].shift());
          added = true;
        }
      }
    }
    return result;
  }, [matchingVideos.length, ageGroup, active.join(',')]);
  
  const questions = QUESTIONS[ageGroup];
  const A = avatars[child.avatar || 0];
  const fmt = s => `${Math.floor(s/60)}:${String(s%60).padStart(2,'0')}`;

  useEffect(() => { const t = setInterval(() => setSessionTime(p => { if (p <= 1) { clearInterval(t); setTimeUp(true); return 0; } return p - 1; }), 1000); return () => clearInterval(t); }, []);
  const onQuizTime = () => { if (rewards.enabled) setQuestion(questions[Math.floor(Math.random() * questions.length)]); };
  const onAnswer = (correct) => { setQuestion(null); if (correct) { const n = stars + 1; setStars(n); if (n >= rewards.goal) setTimeout(() => setJarFull(true), 500); } };

  return (
    <div className="min-h-screen bg-gradient-to-b from-indigo-100 via-purple-50 to-pink-50">
      <div className="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 shadow-lg sticky top-0 z-40">
        <div className="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
          <div className="flex items-center gap-2"><div className="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center"><span className="text-lg">ü¶ä</span></div><span className="text-lg font-bold text-white">kindi</span></div>
          <div className="flex items-center gap-2">
            <div className="bg-white/20 rounded-full px-3 py-1.5 flex items-center gap-1.5"><Clock className="w-4 h-4 text-white"/><span className="font-bold text-white">{fmt(sessionTime)}</span></div>
            {rewards.enabled && <div className="bg-amber-400 rounded-full px-3 py-1.5 flex items-center gap-1.5"><Star className="w-4 h-4 text-amber-900"/><span className="font-bold text-amber-900">{stars}/{rewards.goal}</span></div>}
            <div className="bg-white/20 rounded-full pl-1 pr-3 py-1 flex items-center gap-1.5"><A size={26}/><span className="text-white font-medium text-sm">{child.name}</span></div>
            <button onClick={onEnd} className="px-3 py-1.5 bg-white/20 hover:bg-white/30 rounded-full font-medium text-white text-sm">End</button>
          </div>
        </div>
      </div>
      
      <div className="bg-white/80 border-b sticky top-14 z-30">
        <div className="max-w-6xl mx-auto px-4 py-2">
          <div className="flex items-center gap-3">
            <div className="relative flex-1 max-w-xs">
              <Search className="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"/>
              <input type="text" placeholder="Search videos..." value={search} onChange={e => setSearch(e.target.value)} className="w-full pl-9 pr-4 py-2 rounded-full bg-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-purple-400"/>
            </div>
            <div className="flex items-center gap-2 overflow-x-auto">
              {availCats.map(([k,l]) => <button key={k} onClick={() => setActive(p => p.includes(k) ? p.filter(c => c !== k) : [...p, k])} className={`px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap ${active.includes(k) ? 'bg-gradient-to-r from-indigo-500 to-purple-500 text-white' : 'bg-white text-gray-600 border'}`}>{l}</button>)}
            </div>
          </div>
        </div>
      </div>
      
      <div className="max-w-6xl mx-auto px-4 py-6">
        {!video ? (<><h1 className="text-xl font-bold text-indigo-900 mb-4">{filteredVideos.length} videos to explore! üéâ</h1>{filteredVideos.length === 0 ? <div className="text-center py-12"><div className="text-6xl mb-4">üîç</div><p className="text-gray-500">{search ? 'No videos match your search' : 'Select a category'}</p></div> : <VideoGrid videos={filteredVideos} onSelect={setVideo}/>}</>) : (
          <div className="max-w-3xl mx-auto space-y-6">
            <YouTubePlayer video={video} onBack={() => setVideo(null)} onQuizTime={onQuizTime} rewards={rewards.enabled}/>
            {filteredVideos.filter(v => v.id !== video.id).length > 0 && (<div className="bg-white rounded-2xl p-4 shadow-md"><h3 className="text-lg font-bold text-gray-800 mb-3">Up Next üé¨</h3><div className="grid grid-cols-2 md:grid-cols-4 gap-3">{filteredVideos.filter(v => v.id !== video.id).slice(0,4).map(v => (<button key={v.id} onClick={() => setVideo(v)} className="rounded-xl overflow-hidden shadow-sm hover:shadow-md hover:scale-105 transition-all"><div className="aspect-video bg-gray-200"><img src={`https://img.youtube.com/vi/${v.youtubeId}/mqdefault.jpg`} alt="" className="w-full h-full object-cover" onError={(e) => e.target.style.display='none'}/></div><div className="p-2 bg-white"><p className="text-xs font-medium text-gray-700 truncate">{v.title}</p></div></button>))}</div></div>)}
          </div>
        )}
      </div>
      {question && <QuestionModal question={question} onAnswer={onAnswer}/>}
      {jarFull && <JarFullModal name={child.name} onClaim={() => setJarFull(false)}/>}
      {timeUp && (<div className="fixed inset-0 bg-gradient-to-b from-amber-500 to-rose-500 flex items-center justify-center z-50 p-4"><div className="text-center"><Trophy className="w-20 h-20 text-white mx-auto mb-4"/><h2 className="text-4xl font-bold text-white mb-3">Time's up! üéâ</h2><p className="text-2xl text-white/90 mb-6">{child.name} had {duration} min of fun!</p><button onClick={onEnd} className="px-10 py-4 bg-white text-orange-500 font-bold text-xl rounded-2xl shadow-xl hover:scale-105">All Done! ‚ú®</button></div></div>)}
    </div>
  );
};

function App() {
  const [kids, setKids] = useState([{ id: 1, name: 'Nico', age: 5, avatar: 0 }, { id: 2, name: 'Adri', age: 3, avatar: 1 }]);
  const [session, setSession] = useState(null);
  if (session) return <WatchPage child={session.child} duration={session.duration} categories={session.categories} rewards={session.rewards} onEnd={() => setSession(null)}/>;
  return <SetupPage kids={kids} onStart={(c,d,cats,r) => setSession({child:c,duration:d,categories:cats,rewards:r})} onAdd={k => setKids([...kids, k])}/>;
}

ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
  </script>
</body>
</html>